<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AI Unified Tool v2.0.0 â€” Neon GUI (Single File)</title>

<style>
/* ================== FULL CSS RESET + ADAPTER ================== */

/* Reset default browser styles */
html, body, div, span, applet, object, iframe,
h1,h2,h3,h4,h5,h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0; padding: 0; border: 0; font: inherit; vertical-align: baseline;
}

/* HTML5 display fixes */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section { display: block; }

body {
  line-height: 1; min-height:100vh; overflow-x:hidden;
  background: #1a0a0f; /* fallback for gradient */
  font-family: 'SF Mono','Monaco','Inconsolata','Roboto Mono', monospace;
}

ol, ul { list-style: none; }

a { text-decoration: none; color: inherit; }

table { border-collapse: collapse; border-spacing: 0; }

button, input, select, textarea {
  font-family: inherit; font-size: inherit;
  background: none; border: none; outline: none; color: inherit;
  -webkit-tap-highlight-color: transparent;
}

img, video, canvas { display: block; max-width:100%; height:auto; }

* { box-sizing: border-box; }

/* ================== GLOBAL THEME OVERRIDES ================== */
:root {
  --color-neon-yellow: #ffff33;
  --color-neon-green: #00ff00;
  --color-neon-blue: #00ccff;
  --color-neon-red: #ff3300;
  --color-paragraph: #ffffff;
  --color-background-gradient: linear-gradient(135deg, #1a0a0f, #0a1a2f, #2f0a1a);
  --font-glow: 0 0 6px var(--color-neon-yellow), 0 0 10px var(--color-neon-yellow);
}

/* Body background & default */
body {
  background: var(--color-background-gradient);
  color: var(--color-paragraph);
}

/* Headings glow */
h1,h2,h3,h4,h5,h6 { color: var(--color-neon-yellow); text-shadow: var(--font-glow); }

/* Paragraphs */
p { color: var(--color-paragraph); line-height:1.5; text-shadow:0 0 3px #ffffff33; }

/* Lists */
ul li, ol li { color: var(--color-neon-yellow); text-shadow:0 0 4px #ffff33; }

/* Links */
a { color: var(--color-neon-blue); text-shadow:0 0 6px #00ccff; }

/* Buttons */
button { cursor:pointer; border-radius:6px; background: rgba(0,255,204,0.1); padding:8px 12px; color:#00ffcc; box-shadow:0 0 6px #00ffcc; transition: all 0.2s ease; }
button:hover { background: rgba(0,255,204,0.3); box-shadow:0 0 12px #00ffcc; }
button:disabled { cursor: not-allowed; opacity: 0.5; }

/* Forms */
input, textarea, select { background: rgba(0,0,0,0.3); border:1px solid #00ffcc; padding:6px 10px; color:#00ffcc; border-radius:4px; outline:none; transition:0.2s; }
input:focus, textarea:focus, select:focus { border-color:#ffff33; box-shadow:0 0 8px #ffff33; }

/* Canvas full viewport adapter */
canvas.fullscreen-adapter {
  position: absolute;
  top:0; left:0;
  width:100%; height:100%;
  pointer-events:none;
  z-index:0;
}

/* Overlay / panels */
.panel, .alert-panel {
  position:relative; border-radius:12px; padding:12px; background:rgba(0,0,0,0.7);
  border:2px solid #00ffcc; color:#00ffcc; text-shadow:0 0 5px #00ffcc;
  pointer-events:auto; z-index:2;
}

/* Parallax layers adapter */
.parallax-layer {
  position:absolute; top:0; left:0;
  width:100%; height:100%;
  pointer-events:none;
  transform-style: preserve-3d;
}

/* Smooth scrolling and transitions */
* { scroll-behavior: smooth; transition: all 0.2s ease-in-out; }

/* ================== LAYOUT ================== */
.wrapper { position:relative; width:100%; min-height:100vh; overflow:hidden; }
.content { position:relative; z-index:2; padding:24px; }
.grid { display:grid; grid-template-columns: 1.4fr .6fr; gap:16px; }
@media (max-width: 1100px){ .grid { grid-template-columns:1fr; } }
.row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.stack { display:flex; flex-direction:column; gap:10px; }
.card { padding:14px; border-radius:14px; border:2px solid #00ffcc55; background:rgba(10,20,20,0.35); box-shadow:0 0 24px rgba(0,255,204,.15) inset; }
.card h3 { margin-bottom:8px; }
.small { font-size:12px; opacity:.85; }
.mono { font-family: 'SF Mono','Monaco','Inconsolata','Roboto Mono', monospace; }
.tag { border:1px solid #00ccff; padding:2px 8px; border-radius:999px; font-size:12px; color:#00ccff; }
hr.sep { border:0; border-top:1px dashed #00ffcc55; margin:10px 0; }

/* ================== TABS ================== */
.tabs { display: flex; border-bottom: 2px solid #00ffcc55; margin-bottom: 12px; }
.tab-button { background: none; box-shadow: none; border-radius: 6px 6px 0 0; padding: 8px 16px; border: 2px solid transparent; border-bottom: 0; color: #00ffcc88; transform: translateY(2px); }
.tab-button.active { background: rgba(0, 255, 204, 0.1); color: #00ffcc; border-color: #00ffcc55; }
.tab-content { display: none; }
.tab-content.active { display: block; animation: fadeIn .3s; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }


/* ================== COMPONENTS ================== */
#console {
  background: #00000099; color: #00ff00; height: 300px; overflow-y: auto; padding: 10px;
  border-radius: 8px; border: 1px solid #00ff0055; font-size: 13px; white-space: pre-wrap; word-wrap: break-word;
}
#console .log-ok { color:#00ff00; }
#console .log-error { color:#ff3300; }
#console .log-warn { color:#ffff33; }
#console .log-info { color:#00ccff; }

.dex-pair { display: flex; justify-content: space-between; align-items: center; padding: 8px; border-radius: 8px; background: rgba(0,0,0,0.2); }
.dex-pair-logos { display:flex; align-items:center; }
.dex-pair-logos img { width:24px; height:24px; border-radius:50%; }
.dex-pair-logos img:last-child { margin-left:-8px; }

</style>
</head>

<body>
<div class="wrapper">
  <canvas class="fullscreen-adapter" id="vanta-canvas"></canvas>

  <div class="content">
    <h1>AI Unified Tool v2.0.0</h1>
    <p class="small" style="margin-top:4px; margin-bottom:20px;">Neon GUI with Ollama Integration</p>

    <div class="grid">

      <!-- Left Column -->
      <div class="stack">
        <div class="card">
          <h3>Primary Console</h3>
          <div id="console"></div>
        </div>

        <div class="card">
          <div class="tabs">
            <button class="tab-button active" data-tab="dex-tab-swap">BITBOY AI-DEX</button>
            <button class="tab-button" data-tab="dex-tab-crypto">Cryptographic Operations</button>
            <button class="tab-button" data-tab="dex-tab-system">System</button>
          </div>

          <!-- DEX SWAP TAB -->
          <div id="dex-tab-swap" class="tab-content active">
            <div class="stack">
              <div class="row" style="justify-content:space-between;">
                <h3>Decentralized Exchange</h3>
                <button id="connect-wallet-btn">Connect Wallet</button>
              </div>
              <p class="small" id="wallet-info" style="display:none;">
                Wallet: <span id="wallet-address" class="mono"></span> | Balance: <span id="wallet-balance" class="mono"></span> ETH
              </p>
              <hr class="sep">
              <div class="stack" style="gap:16px;">
                  <div class="row">
                    <input type="number" id="from-amount" placeholder="0.0" style="width:120px; text-align:right;">
                    <select id="from-token" style="flex-grow:1;">
                      <option value="ETH">Ethereum (ETH)</option>
                      <option value="BITBOY">BITBOY (BITBOY)</option>
                      <option value="USDC">USD Coin (USDC)</option>
                    </select>
                  </div>
                  <div class="row">
                    <input type="number" id="to-amount" placeholder="0.0" style="width:120px; text-align:right;" disabled>
                    <select id="to-token" style="flex-grow:1;">
                      <option value="BITBOY">BITBOY (BITBOY)</option>
                      <option value="ETH">Ethereum (ETH)</option>
                      <option value="USDC">USD Coin (USDC)</option>
                    </select>
                  </div>
                  <button id="swap-btn" disabled>Swap</button>
                  <button id="ai-signal-btn" disabled>Get AI Trade Signal</button>
              </div>
            </div>
          </div>

          <!-- CRYPTO TAB -->
          <div id="dex-tab-crypto" class="tab-content">
            <h3>Cryptographic Operations</h3>
            <p>PGP, AES, and other cryptographic functions will be available here.</p>
          </div>

          <!-- SYSTEM TAB -->
          <div id="dex-tab-system" class="tab-content">
            <h3>System Status &amp; Configuration</h3>
            <p>System monitoring, API key configuration, and other settings.</p>
          </div>
        </div>
      </div>

      <!-- Right Column -->
      <div class="stack">
        <div class="card">
          <h3>Recurring Tasks</h3>
          <div class="stack">
            <form id="recurring-task-form" class="row">
              <input type="text" id="recurring-task-input" placeholder="New recurring task..." style="flex-grow: 1;" required>
              <select id="recurring-task-select">
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="monthly">Monthly</option>
              </select>
              <button type="submit">Add</button>
            </form>
            <div id="recurring-task-list" class="stack" style="gap: 8px;">
              <!-- Tasks will be rendered here by JS -->
            </div>
          </div>
        </div>
        <div class="card">
          <h3>AI Analyst Core</h3>
          <div class="stack">
            <p class="small">Enter a prompt to get analysis from the local Ollama instance.</p>
            <textarea id="ollama-prompt" rows="4" placeholder="e.g., What is the market sentiment for Bitcoin?"></textarea>
            <button id="ollama-submit">Query AI Core</button>
          </div>
        </div>
        <div class="card">
          <h3>Hot Pairs (Live)</h3>
          <div class="stack">
            <div class="dex-pair">
              <div class="row">
                <div class="dex-pair-logos">
                  <img src="https://s2.coinmarketcap.com/static/img/coins/64x64/1027.png" alt="ETH">
                  <img src="https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png" alt="USDC">
                </div>
                <span class="mono">ETH/USDC</span>
              </div>
              <span class="mono log-ok">+1.25%</span>
            </div>
            <div class="dex-pair">
              <div class="row">
                <div class="dex-pair-logos">
                  <img src="https://s2.coinmarketcap.com/static/img/coins/64x64/1.png" alt="BTC">
                  <img src="https://s2.coinmarketcap.com/static/img/coins/64x64/1027.png" alt="ETH">
                </div>
                <span class="mono">BTC/ETH</span>
              </div>
              <span class="mono log-error">-0.82%</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
<script>
// ===============================================
// VANTA.JS BACKGROUND
// ===============================================
VANTA.NET({
  el: "#vanta-canvas",
  mouseControls: true,
  touchControls: true,
  gyroControls: false,
  minHeight: 200.00,
  minWidth: 200.00,
  scale: 1.00,
  scaleMobile: 1.00,
  color: 0x00ffcc,
  backgroundColor: 0x0a1a2f,
  points: 10.00,
  maxDistance: 22.00,
  spacing: 18.00
});

// ===============================================
// GLOBAL CONSOLE LOGGER
// ===============================================
const consoleElement = document.getElementById('console');
function logToConsole(message, type = 'info') {
  const timestamp = new Date().toLocaleTimeString();
  const logEntry = document.createElement('div');
  logEntry.innerHTML = `<span class="log-info">[${timestamp}]</span> <span class="log-${type}">${message}</span>`;
  consoleElement.appendChild(logEntry);
  consoleElement.scrollTop = consoleElement.scrollHeight; // Auto-scroll
}

document.addEventListener('DOMContentLoaded', () => {

  // ===============================================
  // OLLAMA AI CORE
  // ===============================================
  const ollamaPrompt = document.getElementById('ollama-prompt');
  const ollamaSubmit = document.getElementById('ollama-submit');

  async function callOllama(prompt) {
    logToConsole('Querying Ollama AI Core...', 'info');
    try {
      // In a real scenario, this would be an API call.
      // We'll simulate a response for this single-file example.
      await new Promise(resolve => setTimeout(resolve, 1500));
      const response = `AI Analysis for "${prompt}":\nBased on current trends and social media velocity, the sentiment is cautiously optimistic. Key resistance is at $68,000. A breakout could lead to a test of all-time highs. Recommend HOLD with tight stop-loss.`;
      logToConsole(response, 'ok');
    } catch (error) {
      logToConsole(`Error querying Ollama: ${error.message}`, 'error');
    }
  }

  ollamaSubmit.addEventListener('click', () => {
    const promptText = ollamaPrompt.value.trim();
    if (promptText) {
      callOllama(promptText);
    } else {
      logToConsole('Prompt cannot be empty.', 'warn');
    }
  });

  // ===============================================
  // GENERIC TAB HANDLER
  // ===============================================
  document.querySelectorAll('.tabs').forEach(tabGroup => {
    tabGroup.addEventListener('click', (e) => {
      if (e.target.classList.contains('tab-button')) {
        const tabId = e.target.dataset.tab;
        
        // Update buttons
        tabGroup.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
        e.target.classList.add('active');

        // Update content
        const contentContainer = tabGroup.nextElementSibling.parentElement;
        contentContainer.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
      }
    });
  });

  // ===============================================
  // BITBOY AI-DEX LOGIC
  // ===============================================
  const connectWalletBtn = document.getElementById('connect-wallet-btn');
  const swapBtn = document.getElementById('swap-btn');
  const aiSignalBtn = document.getElementById('ai-signal-btn');
  
  connectWalletBtn.addEventListener('click', () => {
    logToConsole('Simulating wallet connection...', 'info');
    setTimeout(() => {
      const randomAddress = '0x' + [...Array(40)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');
      const randomBalance = (Math.random() * 5).toFixed(4);
      document.getElementById('wallet-address').textContent = randomAddress;
      document.getElementById('wallet-balance').textContent = randomBalance;
      document.getElementById('wallet-info').style.display = 'block';
      connectWalletBtn.textContent = 'Wallet Connected';
      connectWalletBtn.disabled = true;
      swapBtn.disabled = false;
      aiSignalBtn.disabled = false;
      logToConsole(`Wallet connected: ${randomAddress}`, 'ok');
    }, 1000);
  });

  const fromAmountInput = document.getElementById('from-amount');
  const toAmountInput = document.getElementById('to-amount');
  const fromTokenSelect = document.getElementById('from-token');
  const toTokenSelect = document.getElementById('to-token');

  const exchangeRates = {
    'ETH': { 'BITBOY': 10000, 'USDC': 3000 },
    'BITBOY': { 'ETH': 0.0001, 'USDC': 0.3 },
    'USDC': { 'ETH': 0.00033, 'BITBOY': 3.33 }
  };

  function calculateSwap() {
    const fromToken = fromTokenSelect.value;
    const toToken = toTokenSelect.value;
    const fromAmount = parseFloat(fromAmountInput.value);

    if (isNaN(fromAmount) || fromAmount <= 0) {
      toAmountInput.value = '';
      return;
    }

    if (fromToken === toToken) {
      toAmountInput.value = fromAmount;
      return;
    }

    const rate = exchangeRates[fromToken][toToken];
    const toAmount = fromAmount * rate;
    toAmountInput.value = toAmount.toFixed(4);
  }

  [fromAmountInput, fromTokenSelect, toTokenSelect].forEach(el => {
    el.addEventListener('input', calculateSwap);
    el.addEventListener('change', calculateSwap);
  });

  swapBtn.addEventListener('click', () => {
    const fromToken = fromTokenSelect.value;
    const toToken = toTokenSelect.value;
    const fromAmount = fromAmountInput.value;
    const toAmount = toAmountInput.value;

    if (parseFloat(fromAmount) > 0) {
      logToConsole(`Executing swap: ${fromAmount} ${fromToken} for ${toAmount} ${toToken}`, 'info');
      setTimeout(() => logToConsole('Swap successful!', 'ok'), 1500);
    } else {
      logToConsole('Cannot swap 0 tokens.', 'warn');
    }
  });

  aiSignalBtn.addEventListener('click', () => {
    const fromToken = fromTokenSelect.value;
    callOllama(`Generate a trade signal (BUY/SELL/HOLD) for ${fromToken} based on current market conditions.`);
  });

  // ===============================================
  // RECURRING TASKS LOGIC
  // ===============================================
  const taskForm = document.getElementById('recurring-task-form');
  const taskInput = document.getElementById('recurring-task-input');
  const taskSelect = document.getElementById('recurring-task-select');
  const taskList = document.getElementById('recurring-task-list');
  const STORAGE_KEY = 'recurringTasks_v1';

  const getTasks = () => JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
  const saveTasks = (tasks) => localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));

  const renderTasks = () => {
    taskList.innerHTML = '';
    const tasks = getTasks();
    if (tasks.length === 0) {
      taskList.innerHTML = '<p class="small">No recurring tasks scheduled.</p>';
      return;
    }
    tasks.forEach(task => {
      const taskEl = document.createElement('div');
      taskEl.className = 'row';
      taskEl.style.justifyContent = 'space-between';
      taskEl.innerHTML = `
        <div style="display:flex; align-items:center; gap: 8px;">
          <span class="mono">${task.text}</span>
          <span class="tag">${task.recurrence}</span>
        </div>
        <button class="delete-task-btn" data-id="${task.id}" style="padding: 4px 8px; font-size: 12px; background: rgba(255,51,0,0.2); color:#ff3300; box-shadow:0 0 6px #ff3300;">Delete</button>
      `;
      taskList.appendChild(taskEl);
    });
  };

  const addTask = (text, recurrence) => {
    const tasks = getTasks();
    const now = new Date();
    let nextDueDate = new Date();

    switch (recurrence) {
      case 'daily': nextDueDate.setDate(now.getDate() + 1); break;
      case 'weekly': nextDueDate.setDate(now.getDate() + 7); break;
      case 'monthly': nextDueDate.setMonth(now.getMonth() + 1); break;
    }

    const newTask = {
      id: Date.now(),
      text,
      recurrence,
      nextDueDate: nextDueDate.getTime(),
    };
    tasks.push(newTask);
    saveTasks(tasks);
    renderTasks();
    logToConsole(`Added recurring task: ${text} (${recurrence})`, 'info');
  };

  const deleteTask = (id) => {
    let tasks = getTasks();
    tasks = tasks.filter(task => task.id !== id);
    saveTasks(tasks);
    renderTasks();
    logToConsole('Recurring task deleted.', 'warn');
  };
  
  const checkAndRegenerateTasks = () => {
    const tasks = getTasks();
    const now = new Date();
    let tasksUpdated = false;

    tasks.forEach(task => {
      let nextDueDate = new Date(task.nextDueDate);
      if (nextDueDate <= now) {
        logToConsole(`Recurring task regenerated: ${task.text}`, 'ok');
        tasksUpdated = true;
        // Update the next due date until it's in the future
        while (nextDueDate <= now) {
          switch (task.recurrence) {
            case 'daily': nextDueDate.setDate(nextDueDate.getDate() + 1); break;
            case 'weekly': nextDueDate.setDate(nextDueDate.getDate() + 7); break;
            case 'monthly': nextDueDate.setMonth(nextDueDate.getMonth() + 1); break;
          }
        }
        task.nextDueDate = nextDueDate.getTime();
      }
    });

    if (tasksUpdated) {
      saveTasks(tasks);
    }
  };


  taskForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const text = taskInput.value.trim();
    if (text) {
      addTask(text, taskSelect.value);
      taskInput.value = '';
    }
  });

  taskList.addEventListener('click', (e) => {
    if (e.target.classList.contains('delete-task-btn')) {
      const id = parseInt(e.target.dataset.id, 10);
      deleteTask(id);
    }
  });

  // Initial load
  logToConsole('System Initialized. Checking for due tasks...', 'info');
  checkAndRegenerateTasks();
  renderTasks();

});

</script>

</body>
</html>
