<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEMODIAN COREMOVEMENT 202X â€” Unified AI-DEX GUI (Single File)</title>
<link rel="stylesheet" href="index.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.14.0/gsap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>
<div class="wrapper">
  <canvas class="fullscreen-adapter" id="vanta-canvas"></canvas>
  
  <!-- Parallax Background Layers -->
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>
  <div class="parallax-layer"></div>

  <div class="content">
    <header class="main-header">
        <div class="stack" style="gap: 4px;">
            <h1>NEMODIAN COREMOVEMENT 202X</h1>
            <p class="small">AI STRATEGY-NFT:AGENT // <br/>Author: Aris Arjuna Noorsanto <exe.opcode@gmail.com></p>
        </div>
        <div id="header-wallet-controls" class="header-wallet-controls">
            <div id="header-wallet-info" style="display: none;">
                <span id="header-wallet-balance" class="mono"></span>
                <span id="header-wallet-network" class="tag"></span>
                <span id="header-wallet-address" class="mono"></span>
                <button id="show-qr-btn" data-tooltip="Show Address QR Code" style="display: none;"></button>
            </div>
            <div id="wallet-status-indicator" class="status-dot disconnected"></div>
            <button id="header-connect-btn">Connect Wallet</button>
            <button id="header-disconnect-btn" style="display: none; background: rgba(255,51,0,0.2); color:#ff3300; box-shadow:0 0 6px #ff3300;">Disconnect</button>
        </div>
    </header>
    
    <div class="prominent-buttons-container">
        <button class="prominent-btn" data-tab-target="dex-tab-hrc">HRC203X</button>
        <button class="prominent-btn" data-tab-target="dex-tab-nft">NFT Friend</button>
    </div>

    <div class="card" style="margin-bottom: 16px; padding: 8px;">
        <div id="tradingview-widget-container"></div>
    </div>

    <div class="grid">

      <!-- Left Column -->
      <div class="stack">
        <div class="card" id="main-card">
          <div class="tabs">
            <button class="tab-button active" data-tab="dex-tab-swap">BITBOY AI-DEX</button>
            <button class="tab-button" data-tab="dex-tab-hrc">HRC203X</button>
            <button class="tab-button" data-tab="dex-tab-nft">NFT Friend</button>
            <button class="tab-button" data-tab="dex-tab-crypto">Crypto Ops</button>
            <button class="tab-button" data-tab="dex-tab-seed">Seed Tool</button>
            <button class="tab-button" data-tab="dex-tab-system">System</button>
          </div>

          <!-- DEX SWAP TAB -->
          <div id="dex-tab-swap" class="tab-content active">
            <div class="stack">
              <div class="row dex-header">
                <h3>Decentralized Exchange</h3>
              </div>
              <p class="small">Connect your wallet using the button in the header to begin trading.</p>
              <hr class="sep">
              <div class="stack" style="gap:16px;">
                  <div class="row">
                    <input type="number" id="from-amount" placeholder="0.0">
                    <select id="from-token" style="flex-grow:1;">
                      <option>Loading tokens...</option>
                    </select>
                  </div>
                  <div class="row">
                    <input type="number" id="to-amount" placeholder="0.0" disabled>
                    <select id="to-token" style="flex-grow:1;">
                       <option>Loading tokens...</option>
                    </select>
                  </div>
                  <button id="swap-btn" disabled>Swap</button>
                  <button id="ai-signal-btn" disabled>Get AI Trade Signal</button>
              </div>
              <hr class="sep">
              <div class="stack" style="gap: 16px;" data-tooltip="Set the leverage for futures trading. High leverage increases both potential profit and risk.">
                  <h4>Leveraged Futures</h4>
                  <div class="row" style="gap: 20px;">
                      <div class="stack" style="flex: 1;">
                          <label for="leverage-timeframe" class="small">Timeframe</label>
                          <select id="leverage-timeframe">
                              <option value="1min">1 Minute</option>
                              <option value="5min">5 Minutes</option>
                              <option value="10min">10 Minutes</option>
                              <option value="15min">15 Minutes</option>
                              <option value="30min">30 Minutes</option>
                              <option value="45min">45 Minutes</option>
                              <option value="1h">1 Hour</option>
                              <option value="2h">2 Hours</option>
                              <option value="8h">8 Hours</option>
                              <option value="12h">12 hours</option>
                              <option value="1d">1 Day</option>
                              <option value="1w">1 Week</option>
                              <option value="2w">2 Weeks</option>
                              <option value="1m">1 Month</option>
                              <option value="2m">2 Months</option>
                              <option value="3m">3 Months</option>
                              <option value="4m">4 Months</option>
                              <option value="6m">6 Months</option>
                              <option value="1y">1 Year</option>
                              <option value="5y">5 Years</option>
                              <option value="10y">10 Years</option>
                          </select>
                      </div>
                      <div class="stack" style="flex: 2;">
                          <label for="leverage-slider" class="small">Leverage: <span id="leverage-value" class="mono">100x</span></label>
                          <input type="range" id="leverage-slider" min="1" max="200" value="100">
                           <div id="leverage-presets" class="row" style="gap: 8px; margin-top: 8px;">
                              <button class="leverage-preset-btn" data-value="10">10%</button>
                              <button class="leverage-preset-btn" data-value="25">25%</button>
                              <button class="leverage-preset-btn" data-value="33">33%</button>
                              <button class="leverage-preset-btn" data-value="50">50%</button>
                              <button class="leverage-preset-btn" data-value="75">75%</button>
                              <button class="leverage-preset-btn" data-value="100">100%</button>
                              <button class="leverage-preset-btn" data-value="200">200%</button>
                          </div>
                      </div>
                  </div>
                  <div class="trade-btn-container">
                      <button id="buy-long-btn" class="trade-btn buy-btn" disabled>BUY / LONG</button>
                      <button id="sell-short-btn" class="trade-btn sell-btn" disabled>SELL / SHORT</button>
                  </div>
              </div>
            </div>
          </div>
          
          <!-- HRC203X TAB -->
          <div id="dex-tab-hrc" class="tab-content">
              <div class="stack">
                  <h3>HRC203X: Pools & CRM</h3>
                  <p class="small">Manage projects, interest pools, and contacts using this integrated Kanban board. Data is saved locally.</p>
                  <hr class="sep">
                  <div id="kanban-container" class="stack">
                      <div class="stack" style="gap: 8px; margin-bottom: 16px;">
                          <input type="text" id="new-task-title" placeholder="New Task Title...">
                          <textarea id="new-task-desc" rows="2" placeholder="Task description (optional)..."></textarea>
                          <button id="add-task-btn" class="button-secondary" style="align-self: flex-start;">Add Task to Backlog</button>
                      </div>
                      <div id="kanban-board" class="kanban-board">
                          <div class="kanban-column" id="kanban-backlog" data-status="backlog">
                              <h4>Backlog</h4>
                              <div class="kanban-tasks"></div>
                          </div>
                          <div class="kanban-column" id="kanban-inprogress" data-status="inprogress">
                              <h4>In Progress</h4>
                              <div class="kanban-tasks"></div>
                          </div>
                          <div class="kanban-column" id="kanban-completed" data-status="completed">
                              <h4>Completed</h4>
                              <div class="kanban-tasks"></div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          
          <!-- NFT FRIEND TAB -->
          <div id="dex-tab-nft" class="tab-content">
              <div class="stack">
                  <h3>NFT Friend</h3>
                  <p class="small">Explore your NFT-roots with this interactive 3D carousel.</p>
                  <hr class="sep">
                  <div id="nft-carousel-container">
                      <div class="carousel-scene">
                          <div class="carousel">
                              <!-- NFT cards will be injected here by JS -->
                          </div>
                      </div>
                      <div class="carousel-controls">
                          <button id="carousel-prev-btn">&lt; Prev</button>
                          <button id="carousel-next-btn">Next &gt;</button>
                      </div>
                  </div>
              </div>
          </div>

          <!-- CRYPTO TAB -->
          <div id="dex-tab-crypto" class="tab-content">
            <div class="stack" style="gap: 20px;">
              <div data-tooltip="Generates a SHA-256 hash of the input text. This is a one-way cryptographic function.">
                <h4>Hashing (SHA-256)</h4>
                <div class="stack">
                  <textarea id="hash-input" rows="3" placeholder="Enter text to hash..."></textarea>
                  <button id="hash-btn">Generate Hash</button>
                  <pre id="hash-output" class="mono" style="display:none;"></pre>
                </div>
              </div>
              <hr class="sep">
              <div data-tooltip="Performs AES-GCM symmetric encryption/decryption. Requires a password.">
                <h4>Symmetric Encryption (AES-GCM)</h4>
                <div class="stack">
                  <textarea id="aes-input" rows="4" placeholder="Enter plaintext or Base64 ciphertext..."></textarea>
                  <input type="password" id="aes-password" placeholder="Enter password...">
                  <div class="row button-group-stretch">
                    <button id="aes-encrypt-btn">Encrypt</button>
                    <button id="aes-decrypt-btn">Decrypt</button>
                  </div>
                   <pre id="aes-output" class="mono" style="display:none;"></pre>
                </div>
              </div>
            </div>
          </div>
          
          <!-- SEED TOOL TAB -->
          <div id="dex-tab-seed" class="tab-content">
            <div class="stack" style="gap: 20px;">
                <div class="warning-box">
                    <h4><span class="mono">[ SECURITY WARNING ]</span></h4>
                    <p class="small">NEVER enter a seed phrase from a wallet containing real funds into any online tool, including this one. This tool is for educational purposes only. It operates entirely offline within your browser and does not send your seed phrase anywhere. For maximum security, use it on an air-gapped computer.</p>
                </div>
                <div>
                    <h4>BIP39 Mnemonic Seed Parser</h4>
                    <div class="stack">
                        <textarea id="seed-phrase-input" rows="4" placeholder="Enter 12, 15, 18, 21, or 24 word mnemonic phrase here..."></textarea>
                        <button id="analyze-seed-btn">Analyze Seed</button>
                        <div id="seed-analysis-output" class="stack" style="display:none; gap: 8px; margin-top: 10px;"></div>
                    </div>
                </div>
            </div>
          </div>


          <!-- SYSTEM TAB -->
          <div id="dex-tab-system" class="tab-content">
             <div class="stack" style="gap: 20px;">
                <div>
                  <h4>Local AI Settings</h4>
                  <div class="stack" style="gap: 12px;">
                      <div class="stack" style="gap: 4px;" data-tooltip="The API endpoint for your local Ollama instance. Default: http://localhost:11434">
                          <label for="ollama-api-url" class="small mono">Ollama API Endpoint</label>
                          <input type="text" id="ollama-api-url">
                      </div>
                      <div class="stack" style="gap: 4px;" data-tooltip="The name of the model to use from your Ollama instance (e.g., llama3).">
                          <label for="ollama-model-name" class="small mono">Model Name</label>
                          <input type="text" id="ollama-model-name" placeholder="e.g., llama3, codellama">
                      </div>
                      <div class="row" style="gap: 16px;">
                          <div class="stack" style="gap: 4px; flex: 1;" data-tooltip="Controls randomness. Lower values are more deterministic. Default: 0.8">
                              <label for="ollama-temperature" class="small mono">Temperature</label>
                              <input type="number" id="ollama-temperature" step="0.1" min="0" max="2">
                          </div>
                          <div class="stack" style="gap: 4px; flex: 1;" data-tooltip="Max tokens to generate. Use -1 for infinite. Default: -1">
                              <label for="ollama-max-tokens" class="small mono">Max Tokens (num_predict)</label>
                              <input type="number" id="ollama-max-tokens" step="1" min="-1">
                          </div>
                      </div>
                      <button id="save-settings-btn" style="align-self: flex-start;">Save Settings</button>
                  </div>
                </div>
                <hr class="sep">
                <div>
                    <h4>API Settings & Status</h4>
                    <div class="stack" style="gap: 12px;">
                        <div class="stack" style="gap: 4px;" data-tooltip="Enter your CoinGecko API Key (Demo or Pro) for higher rate limits. This will be saved locally.">
                            <label for="coingecko-api-key" class="small mono">CoinGecko API Key</label>
                            <input type="text" id="coingecko-api-key" placeholder="Optional API Key...">
                        </div>
                        <div class="row">
                           <button id="check-api-btn">Check CoinGecko API</button>
                           <p id="api-status" class="small mono"></p>
                        </div>
                    </div>
                </div>
                <hr class="sep">
                <div>
                  <h4>Data Management</h4>
                  <div class="stack">
                      <button id="clear-data-btn" style="background: rgba(255,51,0,0.2); color:#ff3300; box-shadow:0 0 6px #ff3300;">Clear All Local Data</button>
                      <p class="small">This will delete all saved recurring tasks and Kanban board data. This action cannot be undone.</p>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column -->
      <div class="stack">
        <div class="card">
          <h3>Recurring Tasks</h3>
          <div class="stack">
            <form id="recurring-task-form" class="row">
              <input type="text" id="recurring-task-input" placeholder="New recurring task..." style="flex-grow: 1;" required>
              <select id="recurring-task-select">
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="monthly">Monthly</option>
              </select>
              <button type="submit">Add</button>
            </form>
            <div id="recurring-task-list" class="stack" style="gap: 8px;">
              <!-- Tasks will be rendered here by JS -->
            </div>
          </div>
        </div>
        <div class="card">
          <h3>
            <span>AI Analyst Core</span>
            <div id="ai-status-indicator" class="status-dot disconnected" data-tooltip="AI Core Status"></div>
          </h3>
          <p class="small">The AI chat interface and system console have been merged into the new persistent terminal.</p>
          <p class="small">You can drag the terminal and the HUD widgets. Right-click them for more options.</p>
        </div>
        <div class="card">
          <h3>Hot Pairs (Live)</h3>
          <div id="hot-pairs-list" class="stack">
            <p class="small">Loading hot pairs from CoinGecko...</p>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- Connection Modal -->
<div id="connect-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content card">
    <h3>Connect Wallet</h3>
    <p class="small">Choose your connection method.</p>
    <hr class="sep">
    <div class="stack">
        <button id="connect-metamask-btn" class="modal-button">MetaMask / Browser Wallet</button>
        <button id="connect-walletconnect-btn" class="modal-button">WalletConnect</button>
        <button id="connect-cli-btn" class="modal-button button-secondary">CLI-Wallet (Experimental)</button>
    </div>
    <button id="close-modal-btn" class="modal-close-btn">X</button>
  </div>
</div>

<!-- QR Code Modal -->
<div id="qr-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content card">
    <h3>Your Wallet Address</h3>
    <p class="small">Scan this QR code to send funds to your wallet.</p>
    <hr class="sep">
    <div class="stack" style="align-items: center; gap: 16px;">
        <canvas id="qr-code-canvas"></canvas>
        <pre id="qr-modal-address" class="mono" style="word-break: break-all; text-align: center; width: 100%;"></pre>
    </div>
    <button id="close-qr-modal-btn" class="modal-close-btn">X</button>
  </div>
</div>

<!-- HUD & Terminal -->
<div id="hudWidgets">
  <div>âš¡ AI HUD</div>
  <div id="hudStatus">Status: Initializing...</div>
</div>
<div id="term">
  <div id="termOutput"></div>
  <input id="termInput" placeholder="Ask AI or type command..." />
</div>
<div id="hudMenu" class="ctxMenu">
  <div id="hudReset">ðŸ”„ Reset Position</div>
  <div id="hudTheme">ðŸŽ¨ Switch Theme</div>
</div>
<div id="termMenu" class="ctxMenu">
  <div id="termClear">ðŸ§¹ Clear Screen</div>
  <div id="termCopy">ðŸ“‹ Copy All</div>
  <div id="termTheme">ðŸŽ¨ Switch Theme</div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>

<!-- Import Map for ES Modules -->
<script type="importmap">
{
  "imports": {
    "bip39": "https://esm.run/bip39",
    "@web3modal/standalone": "https://esm.run/@web3modal/standalone",
    "qrcode": "https://esm.run/qrcode"
  }
}
</script>

<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script type="module" src="index.tsx"></script>

</body>
</html>
