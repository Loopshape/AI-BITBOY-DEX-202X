<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI-BITBOY-DEX 202X Unified Interface</title>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.14.0/gsap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<style>
html, body {
  margin:0; padding:0; height:100%; width:100%;
  font-family:'SF Mono','Roboto Mono',monospace;
  background: linear-gradient(135deg,#0b0b1c,#1a1a2f);
  color:#fff; overflow:hidden;
}
#dashboardContainer { position:relative; width:100%; height:100vh; overflow:hidden; }
.parallax-layer {
  position:absolute; width:100%; height:100%; top:0; left:0;
}
.alert {
  position:absolute; top:20px; right:20px; padding:6px 12px;
  border-radius:4px; color:#fff; background:red; box-shadow:0 0 10px red;
}
#aiOutput {
  position:absolute; bottom:10px; left:10px; width:400px;
  background:#00000066; padding:8px; border-radius:6px; max-height:300px; overflow-y:auto;
}
button { background:#00ff00; color:#000; border:none; padding:6px 10px; border-radius:4px; cursor:pointer; }
h1 { color:#ffff00; text-shadow:0 0 8px #ffff00; margin:10px; }
</style>
</head>
<body>

<div id="dashboardContainer">
  <h1>AI-DEX 202X</h1>
  <div id="aiOutput">AI Output...</div>
  <button id="checkAI" style="position:absolute; bottom:10px; left:420px;">Check AI</button>
</div>

<script>
// === CONFIG ===
const LAYERS = 20;
const parallaxLayers = [];
const alerts = [];

// === CREATE PARALLAX LAYERS ===
const container = document.getElementById('dashboardContainer');
for(let i=0;i<LAYERS;i++){
  const layer = document.createElement('div');
  layer.className='parallax-layer';
  layer.style.zIndex=i;
  container.appendChild(layer);
  parallaxLayers.push(layer);
}

// === CAMERA / PARALLAX SIMULATION ===
let camera = {x:0,y:0};
function updateLayers() {
  parallaxLayers.forEach((layer,i)=>{
    layer.style.transform=`translate3d(${-camera.x*i*0.02}px,${-camera.y*i*0.02}px,0px)`;
  });
  requestAnimationFrame(updateLayers);
}
updateLayers();

// === ALERT SYSTEM ===
function showAlert(msg) {
  const id = 'alert-'+Math.random().toString(36).substr(2,6);
  const el = document.createElement('div');
  el.id=id; el.className='alert'; el.textContent=msg;
  container.appendChild(el);
  gsap.fromTo(el,{opacity:0,y:-20},{opacity:1,y:0,duration:0.6});
  setTimeout(()=>{gsap.to(el,{opacity:0,y:-40,duration:0.6,onComplete:()=>el.remove()});},5000);
}

// === AI CALL FUNCTION (LOCAL OLLAMA) ===
async function callAI(cmd){
  try{
    const res = await fetch('http://localhost:11434/api/chat',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify([
        {role:"system",content:"You are AI Assistant"},
        {role:"user",content:cmd}
      ])
    });
    const data = await res.json();
    document.getElementById('aiOutput').textContent = data.message?.content || "No AI response";
  }catch(e){ document.getElementById('aiOutput').textContent = "Error: "+e; }
}

// === BUTTON ===
document.getElementById('checkAI').addEventListener('click',()=>callAI('status'));

// === AUTO ALERTS DEMO ===
setInterval(()=>{showAlert('Alert '+Math.floor(Math.random()*100));},7000);

// === TOUCH / SWIPE PARALLAX ===
let lastTouch={x:0,y:0};
document.addEventListener('touchstart',e=>{
  if(e.touches.length===1) lastTouch={x:e.touches[0].clientX,y:e.touches[0].clientY};
});
document.addEventListener('touchmove',e=>{
  if(e.touches.length===1){
    const dx=e.touches[0].clientX-lastTouch.x;
    const dy=e.touches[0].clientY-lastTouch.y;
    camera.x+=dx; camera.y+=dy;
    lastTouch={x:e.touches[0].clientX,y:e.touches[0].clientY};
  }
},{passive:false});
</script>

</body>
</html>